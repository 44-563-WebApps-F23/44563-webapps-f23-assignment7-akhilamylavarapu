<!DOCTYPE html>
<html>
  <head>
    <title>Pirate Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  </head>
  <body class="bg-info">
    <h2 class="text-center text-decoration-underline">Find the treasure by Akhila Mylavarapu</h2>
    <div class="container">
      <div class="alert alert-primary text-center mb-3" role="alert">Click on the locations to search for treasure, beware the traps</div>
      <div  class="fw-light mb-3" id="locations">Number of locations checked is zero.</div>
      <div class="alert-success mb-3" id="penalty">Penalty is zero.</div>
      <div class="text-danger" role="button" onclick="help()">Click for help</div>
      <div id="help">Help report</div>
      <button type="button" class="btn btn-primary" onclick="resetValues()">New Game</button>
    </div>
    <div class="d-flex justify-content-center">
        <div>        
            <div class="d-flex container">
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="01-01" onclick="check(0)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="01-02" onclick="check(1)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="01-03" onclick="check(2)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="01-04" onclick="check(3)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="01-05" onclick="check(4)" width="100px" height="100px">
                </div>
            </div>
        
            <div class="d-flex container">
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="02-01" onclick="check(5)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="02-02" onclick="check(6)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="02-03" onclick="check(7)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="02-04" onclick="check(8)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="02-05" onclick="check(9)" width="100px" height="100px">
                </div>
            </div>
        
            <div class="d-flex container">
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="03-01" onclick="check(10)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="03-02" onclick="check(11)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="03-03" onclick="check(12)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="03-04" onclick="check(13)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="03-05" onclick="check(14)" width="100px" height="100px">
                </div>
            </div>
        
            <div class="d-flex container">
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="04-01" onclick="check(15)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="04-02" onclick="check(16)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="04-03" onclick="check(17)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="04-04" onclick="check(18)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="04-05" onclick="check(19)" width="100px" height="100px">
                </div>
            </div>
        
            <div class="d-flex container">
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="05-01" onclick="check(20)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="05-02" onclick="check(21)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="05-03" onclick="check(22)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="05-04" onclick="check(23)" width="100px" height="100px">
                </div>
                <div class="border p-2">
                    <img src="Hidden_t.jpg" alt="Hidden Treasure" id="05-05" onclick="check(24)" width="100px" height="100px">
                </div>
            </div>
        </div>
    </div>

    <script>
        var ids = ["01-01","01-02","01-03","01-04","01-05",
                   "02-01","02-02","02-03","02-04","02-05",
                   "03-01","03-02","03-03","03-04","03-05",
                   "04-01","04-02","04-03","04-04","04-05",
                   "05-01","05-02","05-03","05-04","05-05"];
        var checkCount = 0;
        var penalty = 0;
        var lastCheck = 0;
        var treasureLocation = Math.floor(Math.random() * 25);
        var trapLocation = Math.floor(Math.random() * 25);
        var gameOver = false;

        function resetValues(){
            checkCount = 0;
            penalty = 0;
            lastCheck = 0;
            treasureLocation = Math.floor(Math.random() * 25);
            trapLocation = Math.floor(Math.random() * 25);
            
            document.getElementById("locations").innerHTML =  "Number of locations checked is : " + checkCount;
            document.getElementById("penalty").innerHTML = "Penalty is : " + penalty;

            var imageElements = document.getElementsByTagName("img");
            for(let i = 0; i < imageElements.length; i++){
                imageElements[i].src = "Hidden_t.jpg"; 
            }
            gameOver = false;
        }

        function check(position){
            if(gameOver){
                return;
            }
            var id = ids[position];
            var imageElement = document.getElementById(id);

            if(position == treasureLocation){
                imageElement.src = "Treasure.jpg"; 
                gameOver = true;
                penalty -= 3;
            }
            else if(position == trapLocation){
                imageElement.src = "Trap.jpg";
                gameOver = true;
                penalty += 4;
            }
            else{
                imageElement.src = "Skull_pirate.jpg";
            }
            checkCount++;
            penalty++;
            penalty = penalty < 0 ? 0 : penalty;
            document.getElementById("locations").innerHTML =  "Number of locations checked is : " + checkCount;
            document.getElementById("penalty").innerHTML = "Penalty is : " + penalty;
            lastCheck = position;
        }

        function help(){
            var helpText = "";
            var treasureCol = parseInt(treasureLocation % 5);
            var treasureRow = parseInt(treasureLocation / 5);
            var lastCheckCol = parseInt(lastCheck % 5);
            var lastCheckRow = parseInt(lastCheck / 5);

            var colCondition = treasureCol == lastCheckCol;
            var rowCondition = treasureRow == lastCheckRow;

            var colDiff = Math.abs(lastCheckCol - treasureCol);
            var rowDiff = Math.abs(lastCheckRow - treasureRow);

            if(colCondition || rowCondition) {
                if(rowDiff == 1 || colDiff == 1) {
                    helpText = "Can Smell It";
                }
                else if(rowDiff == 2 || colDiff == 2){
                    helpText = "Close Matie";
                }
                else {
                    helpText = "Step Faster"
                }
            }
            else if(rowDiff == 1 && colDiff == 1){ 
                helpText = "Close Matie";
            }
            else{
                helpText = "Step Faster";
            }
            penalty += 2;
            document.getElementById("penalty").innerHTML = "Penalty is : " + penalty;
            document.getElementById("help").innerHTML = helpText;
        }    

    </script>
  </body>
</html>
